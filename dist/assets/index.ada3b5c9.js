import{g as h}from"./index.243f34a9.js";import{d as b,r as M,l as a,b as m,m as F,w as t,q as e,B as p,g as S,X as z,A as f,f1 as I,c as U,e as y,a5 as T,t as N,aj as $,p as q,i as j,_ as L}from"./index.80a4af11.js";import{a as O}from"./index.35a87bfb.js";const P=b({__name:"AddRoleModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{emit:c}){const _=h(r,"modelValue",c),u=M({name:"",roleCode:"",remarks:""});return(x,n)=>{const s=a("a-input"),l=a("a-form-item"),v=a("a-textarea"),d=a("a-form"),D=a("a-modal");return m(),F(D,{visible:S(_),"onUpdate:visible":n[3]||(n[3]=o=>z(_)?_.value=o:null),title:"\u65B0\u589E\u89D2\u8272"},{default:t(()=>[e(d,null,{default:t(()=>[e(l,{label:"\u89D2\u8272\u540D\u79F0",name:"name",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:t(()=>[e(s,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",modelValue:u.name,"onUpdate:modelValue":n[0]||(n[0]=o=>u.name=o)},null,8,["modelValue"])]),_:1}),e(l,{label:"\u89D2\u8272\u7F16\u53F7",name:"roleCode"},{default:t(()=>[e(s,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",modelValue:u.roleCode,"onUpdate:modelValue":n[1]||(n[1]=o=>u.roleCode=o)},{prepend:t(()=>[p("role_")]),_:1},8,["modelValue"])]),_:1}),e(l,{label:"\u63CF\u8FF0",name:"remarks"},{default:t(()=>[e(v,{modelValue:u.remarks,"onUpdate:modelValue":n[2]||(n[2]=o=>u.remarks=o),placeholder:"\u89D2\u8272\u63CF\u8FF0","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"])}}}),W=r=>(q("data-v-fe70e15e"),r=r(),j(),r),X={class:"role-manage"},G=W(()=>y("span",null,"\u65B0\u589E\u89D2\u8272",-1)),H={class:"table-box"},J=b({name:"RoleManage"}),K=b({...J,setup(r){const c=f(!1),g=f([]),_=f(0),u=f(!1);(async()=>{try{c.value=!0;const s=await O();s.code&&(g.value=s.data.list,_.value=s.data.total,c.value=!1)}catch(s){return s}})();const n=()=>{$.info("\u70B9\u51FB\u4E86\u786E\u8BA4\u6309\u94AE")};return(s,l)=>{const v=a("icon-plus"),d=a("a-button"),D=a("a-row"),o=a("a-table-column"),B=a("a-tag"),V=a("icon-delete"),w=a("a-popconfirm"),C=a("icon-edit"),k=a("icon-safe"),E=a("a-space"),A=a("a-table"),R=I("loading");return m(),U("div",X,[e(D,{class:"head"},{default:t(()=>[e(d,{type:"primary",onClick:l[0]||(l[0]=i=>u.value=!0)},{icon:t(()=>[e(v)]),default:t(()=>[G]),_:1})]),_:1}),y("section",H,[T((m(),F(A,{data:g.value,"row-key":"id",scroll:{x:"100%",y:"100%",minWidth:900},pagination:{showPageSize:!0}},{columns:t(()=>[e(o,{title:"\u5E8F\u53F7",width:60},{cell:t(i=>[p(N(i.rowIndex+1),1)]),_:1}),e(o,{title:"\u89D2\u8272\u540D\u79F0","data-index":"name"}),e(o,{title:"\u89D2\u8272\u7F16\u53F7","data-index":"roleCode"}),e(o,{title:"\u72B6\u6001",width:100},{cell:t(({record:i})=>[i.status==1?(m(),F(B,{key:0,color:"green"},{default:t(()=>[p("\u6B63\u5E38")]),_:1})):(m(),F(B,{key:1,color:"red"},{default:t(()=>[p("\u7981\u7528")]),_:1}))]),_:1}),e(o,{title:"\u89D2\u8272\u63CF\u8FF0","data-index":"description"}),e(o,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"}),e(o,{title:"\u64CD\u4F5C",width:220,align:"center"},{cell:t(({record:i})=>[e(E,null,{default:t(()=>[e(w,{type:"warning",content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?",onOk:n},{default:t(()=>[e(d,{type:"primary",status:"danger",size:"mini"},{icon:t(()=>[e(V)]),_:1})]),_:1}),e(d,{type:"primary",size:"mini",onClick:l[1]||(l[1]=Q=>u.value=!0)},{icon:t(()=>[e(C)]),_:1}),e(d,{type:"primary",status:"success",size:"mini"},{icon:t(()=>[e(k)]),default:t(()=>[p("\u83DC\u5355\u6743\u9650")]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[R,c.value]])]),e(P,{modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=i=>u.value=i)},null,8,["modelValue"])])}}});const te=L(K,[["__scopeId","data-v-fe70e15e"]]);export{te as default};
